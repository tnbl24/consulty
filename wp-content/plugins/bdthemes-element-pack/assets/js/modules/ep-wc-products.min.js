!function(e,t){"use strict";e(window).on("elementor/frontend/init",(function(){var t,n=elementorModules.frontend.handlers.Base;t=n.extend({bindEvents:function(){this.run()},getDefaultSettings:function(){return{}},onElementChange:debounce((function(e){-1!==e.indexOf("wc")&&this.run()}),400),settings:function(e){return this.getElementSettings("wc_products_"+e)},run:function(){this.getDefaultSettings();const t=this.settings("enable_ajax_loadmore"),n=this.$element.find(".bdt-wc-products");if(!n.length||void 0===t)return;const o=this.settings("show_loadmore"),d=this.settings("show_infinite_scroll"),i=this.$element.find(".bdt-loadmore-container"),s=n.find(".bdt-wc-products-wrapper"),a=i.find(".bdt-loadmore");let r=!1;const l=n.data("settings");let c=Number(l.posts_per_page);const u=()=>{const t={action:"bdt_ep_wc_products_load_more",settings:l,per_page:l.ajax_item_load,offset:c,nonce:l.nonce,paged:l.paged};e.ajax({url:window.ElementPackConfig.ajaxurl,type:"post",data:t,success:t=>{e(s).append(t.markup),c+=l.ajax_item_load,l.paged+=1,r=!1,"yes"===o&&a.html("Load More"),e(t.markup).length<l.ajax_item_load&&(a.hide(),i.hide())}})},m=()=>{r||(r=!0,a.html("Loading..."),u())};"yes"===o&&e(a).on("click",m),"yes"===d&&e(window).scroll(()=>{e(window).scrollTop()!==e(document).height()-e(window).height()||r||(e(a).css("display","block"),r=!0,u())})}}),elementorFrontend.hooks.addAction("frontend/element_ready/bdt-wc-products.default",(function(e){elementorFrontend.elementsHandler.addHandler(t,{$element:e})}))}))}(jQuery,window.elementorFrontend);